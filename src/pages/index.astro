---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Schedule from "../components/Schedule.astro";
import ulaxData from "../data/ulax.json";
import { manualEvents } from "../data/events";
import type { UlaxGameSerialized, UlaxAllDataSerialized } from "../lib/ulax";

const data = ulaxData as UlaxAllDataSerialized;
const season = data.currentSeason;
const seasonData = data.seasons[season];
const ulaxGames = (seasonData?.schedule ?? []) as UlaxGameSerialized[];
---

<Layout title="Home">
  <Hero />

  <!-- Upcoming Events Section -->
  <section class="py-12 border-t border-border">
    <div class="max-w-4xl mx-auto px-4">
      <div class="flex items-baseline justify-between mb-6">
        <h2 class="text-xl sm:text-2xl text-foreground">Upcoming</h2>
        <a href="/schedule" class="label text-muted hover:text-foreground transition-colors">
          View all →
        </a>
      </div>

      <Schedule ulaxGames={ulaxGames} events={manualEvents} barbaryCoastOnly={true} upcomingOnly={true} limit={3} />
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 border-t border-border">
    <div class="max-w-2xl mx-auto px-4 text-center">
      <h2 class="text-2xl sm:text-3xl text-foreground mb-3">Interested?</h2>
      <p class="text-muted mb-6">
        Looking for competitive lacrosse in the Bay Area? Reach out.
      </p>
      <a
        href="/contact"
        class="inline-flex items-center justify-center px-5 py-2.5 bg-foreground text-background font-mono text-xs font-medium tracking-wide transition-opacity hover:opacity-80"
      >
        Get in Touch →
      </a>
    </div>
  </section>
</Layout>
